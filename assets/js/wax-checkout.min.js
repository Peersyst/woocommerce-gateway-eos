!function(e){var t={init:function(){e.initialize("#wax-qr",function(){e("#wax-form").length&&(this.form=e("#wax-form"),this.email=this.form.data("email"),this.amount=this.form.data("amount"),this.currency=this.form.data("currency"),this.waxAddress=this.form.data("wax-address"),this.waxAmount=this.form.data("wax-amount"),this.waxRef=this.form.data("wax-ref"),this.infoWrapper="#wax-info",this.amountWrapper="#wax-amount-wrapper",this.process="#wax-process"),this.paymentData={v:wc_wax_params.test?1:2,type:2,data:{addr:this.waxAddress.toUpperCase().replace(/-/g,""),amount:1e6*this.waxAmount,msg:this.waxRef,name:"WAX payment to "+wc_wax_params.store}},new QRCode("wax-qr",{text:JSON.stringify(this.paymentData),size:256,fill:"#000",quiet:0,ratio:2}),e("div.payment_box.payment_method_wax").is(":visible")?e("#place_order").attr("disabled",!0):e("#place_order").attr("disabled",!1),e(".wc_payment_methods  > li").on("click",'input[name="payment_method"]',function(){e(this).is("#payment_method_wax")?e("#place_order").attr("disabled",!0):e("#place_order").attr("disabled",!1)});var a={classname:"nanobar-wax",id:"wax-nanobar",target:document.getElementById("wax-process")};t.nanobar=new Nanobar(a)})},updateWaxAmount:function(){this.ajaxGetWaxAmount().done(function(t){console.log(t),!0===t.success&&t.data.amount>0&&e(this.amountWrapper).text(t.data.amount)})},checkForWaxPayment:function(){this.nanobar.go(25),e.ajax({url:wc_wax_params.wc_ajax_url,type:"post",data:{action:"woocommerce_check_for_payment",nounce:wc_wax_params.nounce}}).done(function(a){e("#wax-check").html('<p id="wax-check">Checking..</p>'),!0===a.success&&!0===a.data.match&&(e("#place_order").attr("disabled",!1),e("#place_order").trigger("click")),setTimeout(function(){t.checkForWaxPayment()},5e3)}),this.nanobar.go(100)},ajaxGetWaxAmount:function(){return e.ajax({url:wc_wax_params.wc_ajax_url,type:"post",data:{action:"woocommerce_get_wax_amount",nounce:wc_wax_params.nounce}})}};t.init(),setTimeout(function(){t.checkForWaxPayment()},5e3)}(jQuery);
//# sourceMappingURL=maps/wax-checkout.min.js.map
